[gd_scene format=4 uid="uid://eqs160etgllm"]

[ext_resource type="PackedScene" uid="uid://2pssxf5l8v6p" path="res://scenes/enemies/enemy_base.tscn" id="1_g024v"]
[ext_resource type="Script" uid="uid://dwikrkjns0hkf" path="res://scenes/enemies/vargazer/states/ranged_attack.gd" id="2_5nfpl"]
[ext_resource type="Script" uid="uid://b4hevw6oo1etu" path="res://scenes/enemies/vargazer/vargazer.gd" id="2_leacr"]
[ext_resource type="Script" uid="uid://bcj0dec8gev21" path="res://scenes/enemies/vargazer/states/idle.gd" id="2_sbvp3"]
[ext_resource type="AudioStream" uid="uid://c1qt1lv5trf8p" path="res://assets/audio/sfx/vargazer_attack.mp3" id="3_ydgli"]
[ext_resource type="Script" uid="uid://chiilnksentc1" path="res://scenes/enemies/vargazer/states/chase.gd" id="6_2ypyx"]
[ext_resource type="Script" uid="uid://6jaugrygyf1m" path="res://scenes/enemies/vargazer/states/dead.gd" id="7_2ypyx"]

[sub_resource type="PortableCompressedTexture2D" id="PortableCompressedTexture2D_ydgli"]
_data = PackedByteArray("AAADAAUAAAABAAAAQAEAAEABAABcEAAAUklGRlQQAABXRUJQVlA4TEcQAAAvP8FPEG/hoLZtJbq4u3ahDGHp4e7O+NRgJElSosLl/3yQG+vuwjaybSX3404P0H9EIZ67u0v0ELKRpCIcyiMs2qHtk138f7o3qZnB9aysZxTNnJqDdCR+3+cbf6o0Slol/mMD2Hhppzj7V0xCvqokGrLM1OHe8nodxfKj8YWtJ8mttozO7UOHHcA+5wdAAfrcPwAByGv/ARTgA9wbG+cUW5sBCECC5C4w2tokSW4bYRMGUgMcaMMy8CB+TKN/MQjX+z9fRmRkZFT24nUi+k9Rtt2wbXQBmLATbx8gkNLmE7ZnKQ1JMVex30CJtAqY0gZexYElMB1F7ZeMfEC2q2gimAwp6j5T6oRX8sSUuRQQVJF5uXAAwCI6CZlDwKqrL6kNdeEOTJHKBJD8FJJTDTa5NZACJEpl4YK0nMUdltRl4KT8OsFT4seIoAxgRtHyLvP/EgAnj/Pyk5nr/fLM9215F06LExf7iKdUuDZ5TvvQ0WlmkzYbBdd1aVAFJqAXn+4NvGTOoWC3txiqhy8XIHQSzFwdnIW7wdxTGiePFaJr/rQjNz+dV8aUL7/suKo25p4JRFDQe9KBMXCQJQGkZWF1Z2ZoXZ8To8uypk+0fm7p1jHdUrKiQNjCMXTgmxlQt/NVK1CdxV16JHrrxIBaFonKGfuyMXTLpFlL4ph0rx25fQP/2XR4JNN38egUg0j7uqgq/Qfm9CGdmZPoMlLz7VN2wkf7JlypNeOToqt5KjxdpDyi0GFW+QEbXd9IuCDZfc9pmp497bVxvG9sKGpeHIIMEMxe9jCyRD7N8NwsTeia7kbcBXk4HCyhODnzg6tUuv0j430jVo+TNT06Xe3juetqnhkaGEAXWY/kzUbi3KyEVDM/7pa9e9cSCeRM4rS5/TPeN06wemE1Bxg5mjsnxWueZJtnq2J0bpZ61xpVClx8+tQ8lKNFJ1Bm39j1KqyewtHcUdhVXLFOULtQR3NX9zuDI1Q7wqtV1f7UvimJuGaO5o52YNeRvxalkMO5YxVx691DYuu7anxYFPR/Yt/Uusjo3BHRrQp6wnM7hIXIYO6CpXr4XKJA6dBO7JtqKOO5KyBYmbhvD98WMZy7XWDwpFTJxL7ZQfVo7koiInPfLv8BKRzO3S6pki7zcX77Zjh3Wxls5O/brHrLFtDh3EG4Q6ItsczF+e2bwdwV45uv8bndiZnFVJs465SO506dnM1JQ2XzVKPs3PbNcO6mYww5PrfHIAObAQJpDObO4QR5bdtutuO+WeHcKQX5+zYmgYhAzKza8dxZ+SKdtP39LPbNYO6qQONk5O7bPadAYyrERyMzd4rOxfnls+HcFSAhOOXu2yeECDCTAdRw7oIpuqjJcO7qkM2RvW87NskDZ10kt2Fk+3Nxzh3XyRBQx+e2EiHuKsWZaUKwz5qnwpUUCGzJxbRaxDG+b4dIluBpAWR2Vro/e6FXeIWQAcNze4SMiBQQ9D9LvHg19vVI7rUBBntG53YEnT5PyqjTBxm3yK4Zehqf2yctQufRKwc8bETWwU7VJAWX5TrRfde9c4YcnaZOIMxvBnOZCfBXJvmw5cSYrv4Of1vgFHTufzfz0t/Iovv29Wfivp3yU+6+fZOg8+jNwzbLptvNZ8/+8//jgLScmynDjKLbKbvhEhQIu5ECU5JupbjNHLOHK9D5rQMKhN1EwTG8hRyDSPstAzxdpDyi0GF2hVdmCb0u+2Z2Tglq5gZLr0AXWQ/kFdVumTRrybgZq+0b9MaauWEgc0m2eTZPVUhnCV9r3wAiEEgzsGJuCJFOKLBeGJygdqHCNY2kiCRKWWvfUGA/8p6em2GIk8qF32e9FNIFeTgcyIwvt29IYOgczM0wADdJKzJc3fEUwkLE2mXZu3ctKQMxg77H4rKFRh9yOyXmphcjfaz4m+5qOBLnXoRTWAZcfPpkrjUgJu77wDHhwUyDMp4bIYK9sWpEZM69IfNOChWAdihVyPnSB5uZo77HggBMOZwLh3MjLtDHwrCROvd6WAKtZ6o019Z3VVAhnEz8TBL0JjLueycI9KM79++RqjqcG1Uy+gcXZ+a+PYup7uaPum0KuESdDGU3b6Y81XLpDXCTiVHfnWwZyEPqBV2tTcZwbpoQjZ5PF4yY7H17DDKQ9JvTw6BNDifIa0tULcOLQuqw72R8af27YdDXTcu24dx4JUQnjmuD/H0bk1hffW+DyaPP+qkT6aSNNKPvOLy09L6JVAVCY1qpTh3VMZibHpPl5OmaoHEycvftnpNpzDHY0kGfmnWNVCCUljyuw52f6bvG52q+f6raaRrNTVCbdr+7IBKCU+6+fUKIADMZ0HdKzbomAvNJ4Mz1nUHMdbC7LqO5GahaG9kcFIzPPQj9xEkeRMZRe3qPLMvmLwuomum7Kk2Tq3rSR1dxNOgLB0QC8udeiLtKceb6Hcxp81S4kgKBghz+AUdzfVc6UcC+f3JcH+kZnHshkoXsNz45mrX4EpiuXmEKk2yzqZo+EUyVkpcKGbJpMMe6jZARkQKCvumJzns1SjCSO7HnjSlRlwoY7BmdexF0+jwp43RXdYmhvYjoaXzunbQInUevHPCwEVkHO1WzzJd4nei+69+5a5Oj09QJhPnNYAjuxv6czd24nRjT1d/hbwucgs7972Ze+htZdN++/kzct1N+yt23bxJ0Hr152GbZdLv57Nl/nscHaTk3U4YZRbdTdsMlKBB2IwVSkq6bo1m9ztmY8svRt7WMIpWVACKcuTJAXu7Az75v6xWOusphCrlNMCUeIWfft0ULl/n9ZLqkJhLCOPSz79uyhRfsJ8pM2RhE2jvOv2+LgiqQBZ4uUh5Qe0ICWLJvxXVX7zzuJy2MLKHXde2bGbBg38rrLh6c3cYGBpAPp6eXV9UJ65o0a51bsG8r1w3O7Btinm2erRBY12gm37Bb3x7MMn2rC/FWVTeDm2Ji34zKBpgPg0kCQahyKiz+9c9mFLK2b1H21ezhIdW3qrrd4Ljv1ZQdFJ7YN6OyAU6SL60Uso/7e+979K1lX8xakulbUd1Cvj0cyBJXVbKrHGRm35DoqiZVNc1whVkICxF28eKFeX3f+vhs9uXrQ6JvNXWLZa9eHd7SU1A60ZmQHO0bCjqjKzqDuxpG5twZvi0DjfsXr183p+7RtweL//xzs89fHh7Gfaup28Xf/tbc6i4xXzjdiAz3jZgcX/aWjYjMfXPIvJNCBTREyOq+9fHmjfnXRN9K6oa+dbzVyrpJNSNH+yaQMw8bqftmD0uwmuGGWLs3SnWjXNk3W328eGH+kOhbTd1QffvqlSq6uktctduDg30TytFtnpn75iym2sR1w6nw7sKPtJPVBNb0rf2k8ebFn/7U/PPvib7V1O0SBSrrjqoa7ptAWRKMIbtz5/7tW9J8DDKwGSAQhxs8P60OJ8hpK+rb7+03QzJ9K6rb3ehK694ChvsmkFYBDGELy16+fHtPDyaBiEDMrF5XOX3XXBcVXpSTV9K33+1r3ZsvDwFbwDp1Z3sw3jeRTYDGKQQu/vpXc+05BRoTbesNDV+50ky1a0MnbbZx4eLdR8ZWr3uwb0qQEJxauHPn3nHv7psnhAgw07VoUNz7oAs1nYsXc7OHJKvXPdw3ZcjmoECV5nr/8qU7dyB0bJIHkVFnxqhrH7YSf/D/2/jw71y+eN2DfVMSEAkBdXzuKBHiuhR3zTQhmJNU45ROEAKBNWlLLEvH4nUP9k0lEsJgjEIkS/C0ADJba/fYiF5hUd/+3Wzi0wXqLrMyZMimwRzpNkJGRAoI+p5l5s73jmAgd//GLVD3asBgz+jciaDT50kZdXojclvIFqh7ZfQ0PndOWoTOoyuxV92LAw8bkXWwUzVJQVuW4oLU3X3XvXOGHJ2mTiDMbwZzmQnwVyb5sND9DzTZ32FvC5yCzv3vZl78r5LxffMWMWp/nYaRu2/fJOg8evOwzbLpdvPZs/88R8SPZvvpvRH85/fvP37skX3//vNmSH/+sKQ++7FwIC1nWZ6a7aU29u9154Dp+750AFOKFrXj42N98vT0+HjcttgLz4Gf312snZ1dcnyypDp7Om4xP6r5sSzYRxgwfT3TWkf+WPUvmbpHHwOfm+WMxOUDxZI2ilQngAi3beiPx6pTpo/MUrouH+UOS2ozcBvxVMtTluzVGCv0rBxAvt2zLjX/kmmTIMYf5TwnMBWdl0XzdUGFsLwLK4qj9JFbCtdxBF4UzteORF8ZexJUghxVy/Epwx9//PHTf2D+cyqz8J/8bGLXYxBpn13AgkB+7bwoEh+3pOF/NJH8tO/7sE/WC08XKY+YWsrWTAReEinfvP90o53mu8nyseRvh5El8iw1C5Hj169fR/+B+URytPCfHJvUMXYYmE289LIWBQaQD6cnkpeLzksis2wtafgfpZOjfd+H/2To/WEwcSb0slZdEa8ziycVOXdiEpH0zfvRDXeSRxPlI3lVCq/GH6uvE8wsqkp2CQLdwDezXiQt/CdU1Qx2HJilX3pReSqbvDoTO3/I+AOiM/E7xDJp1hL/30dn9J9k/Nev7gxJ0otqsb8tjFuH+z6EERnzTjfePkRoJs7FJLnIZIPLNT53EvouFe5qeMb7fvh2BlLNvD6Lj+/uDncU09FLmiC4HIm6xwIvVAwY7vvhDyZctTtDuji8+/Tx7uMn570k6nwvMnWPuHDvPeN938NJ4itCi8Ph46f2ekeG6gpI1X1B6YPqBvdf/2xG6cTMsw2AcWdxGMx6DeNz5/LFGLKP+3vvY+ZHUQFt0b1oeSsS585FBW5q2cWLF+YOFMPmd77vWsfMubNjP4HzAY1TCBr3L16/bk7tOUUaC5bmbt8XxsS5UyV84rnhLJAQnFoooCHCE0KkBDb3z0pJ9jx39nhuOB9kc1Cgbt93b5QKoWOTgAr3D/Lp2PPcuUDPDWhICKxPCu8ubIpDRFDj6tqWflDa89zZ5bnhfJCewb4PkZiSRHfLxnXv/9xwDsiA4b4fIZ61bVz37s8NZwEM9oz2fQSdvnNgWPcCzw3nhp7G+/6kC1J77uz+3HA+wMNGZB3sVEWck+3/3LA63XfdO2fI0WnqBOK8fInnhuXxB7u/MsnN2t2AyV7hhVzg27U+gYLgLpF5CW4kgdz9Oa/nhvMxV2LKT0EvtoXsnJ4bzqrUefSSUPn/DWfFliYSdl3N355vA9v57243Qez9d7ebLUTcc6vcAr7A342uPQv83eg2A4326T/c3z0uEhf17x6Xisv6d4/LxAX9u8fF4sL+3eNGS7xtN589+8+z/zz7zzMPwGxXnsyuevbNDNgx+w+z651YJs1aslNY9tisJVc7RGgmO/mTZUezxyvtsPj47u5wR+E+WPz2lw/vPxwfj1c7Du8+fbz7+Kn5XvH+L3//7cNvf7/OTovD4eOn9nrHPThavH//29/b64fjdQbGncWBugtPxgeL98dfVxgFtIV/2YVfT0+/WviX6wyb3/mPdR+OzT/4j381rvMCdV9zscvS3H3NxZVeoGbci6O52bFxpd0S0MVObsnT0cWV9pZY1mIvb4llFlc7MdtVt3u//e922wAA")
size_override = Vector2(320, 320)

[sub_resource type="Animation" id="Animation_2ypyx"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("LaserOrigin:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, -3)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AudioStreamPlayer2D:stream")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [null]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AudioStreamPlayer2D:playing")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_5nfpl"]
length = 0.9
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("LaserOrigin:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.20052911, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [Vector2(1, 0), Vector2(1, 3), Vector2(1, -3), Vector2(1, -3)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = false
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 8, 9, 10, 11, 12, 13, 11, 14]
}

[sub_resource type="Animation" id="Animation_sbvp3"]
length = 0.7
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = false
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [16, 17, 18, 19, 20, 21, 7]
}

[sub_resource type="Animation" id="Animation_leacr"]
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = false
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [0, 8, 9]
}

[sub_resource type="Animation" id="Animation_ydgli"]
length = 0.3
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = false
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [0, 8, 9]
}

[sub_resource type="Animation" id="Animation_lqjqy"]
length = 0.3
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AudioStreamPlayer2D:stream")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("3_ydgli")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AudioStreamPlayer2D:playing")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = false
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [13, 15, 12]
}

[sub_resource type="Animation" id="Animation_urc1a"]
length = 0.7
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = false
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_2ypyx"]
_data = {
&"RESET": SubResource("Animation_2ypyx"),
&"attack": SubResource("Animation_5nfpl"),
&"dead": SubResource("Animation_sbvp3"),
&"hurt": SubResource("Animation_leacr"),
&"idle": SubResource("Animation_ydgli"),
&"laser": SubResource("Animation_lqjqy"),
&"move": SubResource("Animation_urc1a")
}

[sub_resource type="CircleShape2D" id="CircleShape2D_ydgli"]

[sub_resource type="CircleShape2D" id="CircleShape2D_urc1a"]
radius = 32.01562

[sub_resource type="CircleShape2D" id="CircleShape2D_2ypyx"]
radius = 190.01053

[node name="Vargazer" unique_id=200550846 instance=ExtResource("1_g024v")]
collision_mask = 0
script = ExtResource("2_leacr")

[node name="Sprite2D" parent="." index="0" unique_id=1183595025]
texture_filter = 1
texture = SubResource("PortableCompressedTexture2D_ydgli")
hframes = 5
vframes = 5
metadata/_aseprite_wizard_interface_config_ = {
"animation_section": true,
"layer_section": true,
"output_section": true,
"pending_changes": {},
"slice_section": true
}
metadata/_aseprite_wizard_config_ = {
"convert_fps_field": 60.0,
"convert_ms_field": 16.0,
"convert_to_fps": false,
"embed_tex": true,
"i_mode": 0,
"keep_anim_length": false,
"layers": [],
"o_ex_p": "",
"o_folder": "",
"o_name": "",
"only_visible": false,
"player": "AnimationPlayer",
"scale": "1.0",
"slice": "",
"source": "res://assets/enemies/Vargazer.aseprite",
"source_uid": 5990250516184517699
}
metadata/_aseprite_wizard_source_file_hash_ = "d171140d69a7b56faaf7de988deed804"

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="1" unique_id=521311464]
unique_name_in_owner = true
libraries/ = SubResource("AnimationLibrary_2ypyx")

[node name="CollisionShape2D" parent="." index="2" unique_id=1771161155]
shape = SubResource("CircleShape2D_ydgli")

[node name="CollisionShape2D" parent="HurtboxComponent" parent_id_path=PackedInt32Array(1179701126) index="0" unique_id=1354527137]
shape = SubResource("CircleShape2D_urc1a")

[node name="HitboxComponent" parent="." index="4" unique_id=1334252649]
visible = false

[node name="LineOfSightComponent" parent="." index="8" unique_id=1328130605]
target_offset = Vector2(0, -32)

[node name="LaserOrigin" type="Marker2D" parent="." index="10" unique_id=738812100]
unique_name_in_owner = true
y_sort_enabled = true
position = Vector2(1, -3)

[node name="CollisionShape2D" parent="DetectionZone" parent_id_path=PackedInt32Array(391698888) index="0" unique_id=515830143]
shape = SubResource("CircleShape2D_2ypyx")

[node name="StateMachine" parent="." index="12" unique_id=1405924420 node_paths=PackedStringArray("starting_state")]
starting_state = NodePath("Idle")

[node name="Idle" type="Node" parent="StateMachine" index="0" unique_id=2039834520]
script = ExtResource("2_sbvp3")
metadata/_custom_type_script = "uid://cj2s51e6wd4tp"

[node name="RangedAttack" type="Node" parent="StateMachine" index="1" unique_id=1090587486]
script = ExtResource("2_5nfpl")
metadata/_custom_type_script = "uid://cj2s51e6wd4tp"

[node name="Chase" type="Node" parent="StateMachine" index="2" unique_id=1387326921]
script = ExtResource("6_2ypyx")
metadata/_custom_type_script = "uid://cj2s51e6wd4tp"

[node name="Dead" type="Node" parent="StateMachine" index="3" unique_id=975004512]
script = ExtResource("7_2ypyx")
metadata/_custom_type_script = "uid://cj2s51e6wd4tp"

[editable path="HurtboxComponent"]
